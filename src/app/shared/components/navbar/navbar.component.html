<!-- Alternative: à¹ƒà¸Šà¹‰ Globe Icon à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¸¸à¹ˆà¸¡à¸ à¸²à¸©à¸² -->
<div class="navbar" (click)="closeDropdowns()">
  <div class="navbar-content">
    <div class="navbar-actions">
      
      <!-- Language Selector with Globe Icon -->
      <div class="language-selector" (click)="$event.stopPropagation()">
        <div class="language-button" 
             (click)="toggleLanguageDropdown($event)"
             [class.loading]="isLanguageLoading">
          
          <!-- Loading Spinner -->
          <div class="spinner" *ngIf="isLanguageLoading"></div>
          
          <!-- Globe Icon -->
          <i class="bi bi-globe language-icon" *ngIf="!isLanguageLoading"></i>
          
          <!-- Language Text -->
          <span class="language-text">{{ getCurrentLanguageDisplay() }}</span>
          
          <!-- Dropdown Arrow -->
          <i class="bi bi-chevron-down dropdown-arrow" 
             [class.open]="isLanguageDropdownOpen"></i>
        </div>
        
        <!-- Language Dropdown -->
        <div class="dropdown-menu language-dropdown" 
             [class.show]="isLanguageDropdownOpen">
          
          <!-- Thai Option -->
          <div class="dropdown-item" 
               (click)="changeLanguage('th', $event)"
               [class.active]="currentLanguage === 'th'">
            <span class="language-emoji">ðŸ‡¹ðŸ‡­</span>
            <span>{{ getTranslation('navbar.thai', 'à¹„à¸—à¸¢') }}</span>
            <i class="bi bi-check-lg check-icon" *ngIf="currentLanguage === 'th'"></i>
          </div>
          
          <!-- English Option -->
          <div class="dropdown-item" 
               (click)="changeLanguage('en', $event)"
               [class.active]="currentLanguage === 'en'">
            <span class="language-emoji">ðŸ‡ºðŸ‡¸</span>
            <span>{{ getTranslation('navbar.english', 'English') }}</span>
            <i class="bi bi-check-lg check-icon" *ngIf="currentLanguage === 'en'"></i>
          </div>
        </div>
      </div>

      <!-- User Section (à¹„à¸¡à¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡) -->
      <div class="user-section" (click)="$event.stopPropagation()">
        <div class="user-button" (click)="toggleUserDropdown($event)">
          <div class="avatar">
            <i class="bi bi-person-circle" style="font-size: 28px; color: #6B7280;"></i>
          </div>
          <span class="user-name">Hi, wasan</span>
          
          <i class="bi bi-chevron-down dropdown-arrow" 
             [class.open]="isUserDropdownOpen"></i>
        </div>
        
        <div class="dropdown-menu user-dropdown" 
             [class.show]="isUserDropdownOpen">
          
          <div class="dropdown-item">
            <i class="bi bi-person item-icon"></i>
            <span>{{ getTranslation('navbar.profile', 'My Profile') }}</span>
          </div>
          
          <div class="dropdown-item">
            <i class="bi bi-gear item-icon"></i>
            <span>{{ getTranslation('navbar.settings', 'Settings') }}</span>
          </div>
          
          <div class="dropdown-divider"></div>
          
          <div class="dropdown-item logout">
            <i class="bi bi-box-arrow-right item-icon"></i>
            <span>{{ getTranslation('navbar.logout', 'Logout') }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>